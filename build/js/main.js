$(document).ready(function(){for(var t=$(".steps-container"),e=0,s=0,o=t.find(".step"),i=0;i<o.length;i++){if(console.log(i),0<i)var p=$(o[i]).position().top+$(o[i]).outerHeight()/2-($(o[i-1]).position().top+ +$(o[i-1]).outerHeight()/2);else var p=$(o[i]).position().top+$(o[i]).outerHeight()/2;t.append('<div class="steps-track" id="segment-'+i+'" style="top:'+e+"px; height: "+p+'px;"></div>'),e=$(o[i]).position().top+$(o[i]).outerHeight()/2,($(o[i]).hasClass("step--completed")||$(o[i]).hasClass("step--active")||$(o[i]).hasClass("step--afterward"))&&$("#segment-"+i).css("background-color","#00c96f")}e=$(o[o.length-1]).position().top+$(o[o.length-1]).outerHeight()/2,p=$(".steps-container").outerHeight()-e,t.append('<div class="steps-track" id="segment-'+o.length+'" style="top:'+e+"px; height: "+p+'px;"></div>')});